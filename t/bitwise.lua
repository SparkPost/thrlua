require("Test.More");
plan(18);
hex=function (i) return "0x"..string.format("%X", i) end
is(hex(0x54|0x55), "0x55", "0x54 | 0x55")
is(hex(0x54&0x66), "0x44", "0x64 & 0x66");
is(hex(0x54^^0x66), "0x32", "x54 ^^ (xor) 0x66");
-- need to match this one, as the size of the value varies across platforms
like(hex(~0x54), "^0xF+AB$", "~ 0x54");
is(hex(0xF<< 4), "0xF0", "0xf << 4");
is(hex(0xF0>> 4), "0xF", "0xf0 >> 4");

a,b=0x54,0x55
is(hex(a|b), "0x55", "0x54|0x55 (variable)");
is(hex(a|0x55), "0x55", "0x54|0x55 (variable 2)");
is(hex(a|(0x5|0x50)), "0x55", "0x54|0x5|0x50");

a,b=0x54,0x66
is(hex(a&b), "0x44", "a & b");
is(hex(a&0x66), "0x44", "a & 0x66");
is(hex(a^^b), "0x32", "a ^^ b");
is(hex(a^^0x66), "0x32", "a ^^ 0x66");
-- need to match this one, as the size of the value varies across platforms
like(hex(~a), "^0xF+AB$", "~ a");

a,b=0xF,0xF0
is(hex(a<<4), "0xF0", "a << 4");
is(hex(b>>4), "0xF", "b >> 4");

a,b=0xF,4
is(hex(a<<b), "0xF0", "a << b");

a,b=0xF0,4
is(hex(a>>b), "0xF", "a >> b");
